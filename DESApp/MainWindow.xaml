<Window x:Class="DESApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:scottplot="clr-namespace:ScottPlot.WPF;assembly=ScottPlot.WPF"
        Title="Crypto Tool - Modern Encryption Suite"
        Height="750"
        Width="1100"
        Background="#F8F9FA"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="CanResize">

        <Window.Resources>
                <!-- Modern TextBox Style -->
                <Style x:Key="ModernTextBox"
                       TargetType="TextBox">
                        <Setter Property="Background"
                                Value="White"/>
                        <Setter Property="Foreground"
                                Value="#1A1A1A"/>
                        <Setter Property="BorderBrush"
                                Value="#E0E0E0"/>
                        <Setter Property="BorderThickness"
                                Value="1.5"/>
                        <Setter Property="Padding"
                                Value="10"/>
                        <Setter Property="FontFamily"
                                Value="Segoe UI"/>
                        <Setter Property="FontSize"
                                Value="12"/>
                        <Setter Property="CaretBrush"
                                Value="#6366F1"/>
                </Style>

                <!-- Modern Button Style -->
                <Style x:Key="ModernButton"
                       TargetType="Button">
                        <Setter Property="Background"
                                Value="#1A1A1A"/>
                        <Setter Property="Foreground"
                                Value="White"/>
                        <Setter Property="BorderThickness"
                                Value="0"/>
                        <Setter Property="Padding"
                                Value="16,10"/>
                        <Setter Property="FontWeight"
                                Value="SemiBold"/>
                        <Setter Property="FontSize"
                                Value="12"/>
                        <Setter Property="Cursor"
                                Value="Hand"/>
                        <Setter Property="Template">
                                <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}"
                                                        CornerRadius="6"
                                                        Padding="{TemplateBinding Padding}">
                                                        <ContentPresenter HorizontalAlignment="Center"
                                                                          VerticalAlignment="Center"/>
                                                </Border>
                                        </ControlTemplate>
                                </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                                <Trigger Property="IsMouseOver"
                                         Value="True">
                                        <Setter Property="Background"
                                                Value="#2A2A2A"/>
                                </Trigger>
                                <Trigger Property="IsPressed"
                                         Value="True">
                                        <Setter Property="Background"
                                                Value="#0A0A0A"/>
                                </Trigger>
                        </Style.Triggers>
                </Style>

                <!-- Accent Button Style (Purple) -->
                <Style x:Key="AccentButton"
                       TargetType="Button"
                       BasedOn="{StaticResource ModernButton}">
                        <Setter Property="Background"
                                Value="#6366F1"/>
                        <Style.Triggers>
                                <Trigger Property="IsMouseOver"
                                         Value="True">
                                        <Setter Property="Background"
                                                Value="#7C3AED"/>
                                </Trigger>
                                <Trigger Property="IsPressed"
                                         Value="True">
                                        <Setter Property="Background"
                                                Value="#5B21B6"/>
                                </Trigger>
                        </Style.Triggers>
                </Style>

                <!-- Success Button Style (Teal) -->
                <Style x:Key="SuccessButton"
                       TargetType="Button"
                       BasedOn="{StaticResource ModernButton}">
                        <Setter Property="Background"
                                Value="#14B8A6"/>
                        <Style.Triggers>
                                <Trigger Property="IsMouseOver"
                                         Value="True">
                                        <Setter Property="Background"
                                                Value="#0D9488"/>
                                </Trigger>
                                <Trigger Property="IsPressed"
                                         Value="True">
                                        <Setter Property="Background"
                                                Value="#0F766E"/>
                                </Trigger>
                        </Style.Triggers>
                </Style>

                <!-- Danger Button Style -->
                <Style x:Key="DangerButton"
                       TargetType="Button"
                       BasedOn="{StaticResource ModernButton}">
                        <Setter Property="Background"
                                Value="#EF4444"/>
                        <Style.Triggers>
                                <Trigger Property="IsMouseOver"
                                         Value="True">
                                        <Setter Property="Background"
                                                Value="#DC2626"/>
                                </Trigger>
                        </Style.Triggers>
                </Style>

                <!-- Modern ComboBox Style -->
                <Style x:Key="ModernComboBox"
                       TargetType="ComboBox">
                        <Setter Property="Background"
                                Value="White"/>
                        <Setter Property="Foreground"
                                Value="#1A1A1A"/>
                        <Setter Property="BorderBrush"
                                Value="#E0E0E0"/>
                        <Setter Property="BorderThickness"
                                Value="1.5"/>
                        <Setter Property="Padding"
                                Value="10,8"/>
                        <Setter Property="FontSize"
                                Value="12"/>
                </Style>

                <!-- Modern Label Style -->
                <Style x:Key="ModernLabel"
                       TargetType="Label">
                        <Setter Property="Foreground"
                                Value="#1A1A1A"/>
                        <Setter Property="FontWeight"
                                Value="SemiBold"/>
                        <Setter Property="FontSize"
                                Value="12"/>
                </Style>

                <!-- Card Style -->
                <Style x:Key="Card"
                       TargetType="Border">
                        <Setter Property="Background"
                                Value="White"/>
                        <Setter Property="CornerRadius"
                                Value="10"/>
                        <Setter Property="Padding"
                                Value="15"/>
                        <Setter Property="Effect">
                                <Setter.Value>
                                        <DropShadowEffect Color="#000000"
                                                          Opacity="0.08"
                                                          BlurRadius="15"
                                                          ShadowDepth="0"/>
                                </Setter.Value>
                        </Setter>
                </Style>
        </Window.Resources>

        <Border Background="#F8F9FA"
                CornerRadius="10">
                <Grid Margin="0">
                        <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Custom Title Bar -->
                        <Border Grid.Row="0"
                                Background="#1A1A1A"
                                CornerRadius="10,10,0,0"
                                Height="45"
                                MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                                <Grid>
                                        <StackPanel Orientation="Horizontal"
                                                    VerticalAlignment="Center"
                                                    Margin="15,0">
                                                <TextBlock Text="ðŸ”"
                                                           FontSize="18"
                                                           VerticalAlignment="Center"
                                                           Margin="0,0,8,0"/>
                                                <TextBlock Text="CRYPTO SUITE"
                                                           Foreground="White"
                                                           FontSize="13"
                                                           FontWeight="Bold"
                                                           VerticalAlignment="Center"/>
                                                <TextBlock Text="Modern Encryption Tool"
                                                           Foreground="#9CA3AF"
                                                           FontSize="10"
                                                           VerticalAlignment="Center"
                                                           Margin="12,0,0,0"/>
                                        </StackPanel>

                                        <StackPanel Orientation="Horizontal"
                                                    HorizontalAlignment="Right"
                                                    Margin="0,0,8,0">
                                                <Button Content="â€”"
                                                        Width="35"
                                                        Height="28"
                                                        Background="Transparent"
                                                        Foreground="White"
                                                        BorderThickness="0"
                                                        FontSize="14"
                                                        Cursor="Hand"
                                                        Click="MinimizeBtn_Click"/>
                                                <Button Content="â–¡"
                                                        Width="35"
                                                        Height="28"
                                                        Background="Transparent"
                                                        Foreground="White"
                                                        BorderThickness="0"
                                                        FontSize="14"
                                                        Cursor="Hand"
                                                        Click="MaximizeBtn_Click"/>
                                                <Button Content="âœ•"
                                                        Width="35"
                                                        Height="28"
                                                        Background="Transparent"
                                                        Foreground="White"
                                                        BorderThickness="0"
                                                        FontSize="14"
                                                        Cursor="Hand"
                                                        Click="CloseBtn_Click"
                                                        MouseEnter="CloseBtn_MouseEnter"
                                                        MouseLeave="CloseBtn_MouseLeave"/>
                                        </StackPanel>
                                </Grid>
                        </Border>

                        <!-- Main Content -->
                        <Grid Grid.Row="1"
                              Margin="20,15,20,20">
                                <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="0.75*"/>
                                        <ColumnDefinition Width="10"/>
                                        <ColumnDefinition Width="2.75*"/>
                                </Grid.ColumnDefinitions>

                                <!-- Left Panel -->
                                <ScrollViewer Grid.Column="0"
                                              VerticalScrollBarVisibility="Auto">
                                        <StackPanel>
                                                <!-- Input Card -->
                                                <Border Style="{StaticResource Card}"
                                                        Margin="0,0,0,12">
                                                        <StackPanel>
                                                                <TextBlock Text="ðŸ“ Input Data"
                                                                           Foreground="#1A1A1A"
                                                                           FontSize="14"
                                                                           FontWeight="Bold"
                                                                           Margin="0,0,0,8"/>

                                                                <Label Content="Plaintext or Ciphertext (Base64)"
                                                                       Style="{StaticResource ModernLabel}"
                                                                       Margin="0,0,0,2"/>
                                                                <TextBox x:Name="PlainTextBox"
                                                                         Style="{StaticResource ModernTextBox}"
                                                                         PreviewKeyDown="PlainTextBox_PreviewKeyDown"
                                                                         AcceptsTab="False"
                                                                         Height="70"
                                                                         TextWrapping="Wrap"
                                                                         AcceptsReturn="True"
                                                                         VerticalScrollBarVisibility="Auto"
                                                                         Margin="0,0,0,8"/>

                                                                <Grid>
                                                                        <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="*"/>
                                                                                <ColumnDefinition Width="6"/>
                                                                                <ColumnDefinition Width="*"/>
                                                                        </Grid.ColumnDefinitions>

                                                                        <Button Grid.Column="0"
                                                                                Content="ðŸ”’ Encrypt"
                                                                                Style="{StaticResource SuccessButton}"
                                                                                Click="EncryptBtn_Click"/>
                                                                        <Button Grid.Column="2"
                                                                                Content="ðŸ”“ Decrypt"
                                                                                Style="{StaticResource AccentButton}"
                                                                                Click="DecryptBtn_Click"/>
                                                                </Grid>
                                                        </StackPanel>
                                                </Border>

                                                <!-- Configuration Card -->
                                                <Border Style="{StaticResource Card}"
                                                        Margin="0,0,0,12">
                                                        <StackPanel>
                                                                <TextBlock Text="âš™ï¸ Configuration"
                                                                           Foreground="#1A1A1A"
                                                                           FontSize="14"
                                                                           FontWeight="Bold"
                                                                           Margin="0,0,0,8"/>

                                                                <!-- Sá»­ dá»¥ng Grid Ä‘á»ƒ chia thÃ nh 2 cá»™t -->
                                                                <Grid>
                                                                        <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="*"/>
                                                                                <ColumnDefinition Width="10"/>
                                                                                <ColumnDefinition Width="*"/>
                                                                        </Grid.ColumnDefinitions>

                                                                        <!-- Left Column - Algorithm -->
                                                                        <StackPanel Grid.Column="0">
                                                                                <Label Content="Algorithm"
                                                                                       Style="{StaticResource ModernLabel}"
                                                                                       Margin="0,0,0,4"/>
                                                                                <StackPanel>
                                                                                        <RadioButton x:Name="AES128_Radio"
                                                                                                     Content="AES-128"
                                                                                                     GroupName="AlgoGroup"
                                                                                                     IsChecked="False"
                                                                                                     FontSize="11"
                                                                                                     Margin="0,2"/>

                                                                                        <RadioButton x:Name="AES192_Radio"
                                                                                                     Content="AES-192"
                                                                                                     GroupName="AlgoGroup"
                                                                                                     IsChecked="False"
                                                                                                     FontSize="11"
                                                                                                     Margin="0,2"/>

                                                                                        <RadioButton x:Name="AES256_Radio"
                                                                                                     Content="AES-256"
                                                                                                     GroupName="AlgoGroup"
                                                                                                     IsChecked="True"
                                                                                                     FontSize="11"
                                                                                                     Margin="0,2"/>

                                                                                        <RadioButton x:Name="DES_Radio"
                                                                                                     Content="DES"
                                                                                                     GroupName="AlgoGroup"
                                                                                                     IsChecked="False"
                                                                                                     FontSize="11"
                                                                                                     Margin="0,2"/>
                                                                                </StackPanel>
                                                                        </StackPanel>

                                                                        <!-- Right Column - Character Encoding -->
                                                                        <StackPanel Grid.Column="2">
                                                                                <Label Content="Character Encoding"
                                                                                       Style="{StaticResource ModernLabel}"
                                                                                       Margin="0,0,0,4"/>
                                                                                <ComboBox x:Name="EncodingBox"
                                                                                          Style="{StaticResource ModernComboBox}"
                                                                                          SelectedIndex="0">
                                                                                        <ComboBoxItem Content="UTF-8"/>
                                                                                        <ComboBoxItem Content="ASCII"/>
                                                                                </ComboBox>
                                                                        </StackPanel>
                                                                </Grid>
                                                        </StackPanel>
                                                </Border>

                                                <!-- Key Card -->
                                                <Border Style="{StaticResource Card}"
                                                        Margin="0,0,0,12">
                                                        <StackPanel>
                                                                <TextBlock Text="ðŸ”‘ Encryption Key"
                                                                           Foreground="#1A1A1A"
                                                                           FontSize="14"
                                                                           FontWeight="Bold"
                                                                           Margin="0,0,0,8"/>

                                                                <Label Content="Key (Base64 or Plain Text)"
                                                                       Style="{StaticResource ModernLabel}"
                                                                       Margin="0,0,0,2"/>
                                                                <TextBox x:Name="KeyBox"
                                                                         Style="{StaticResource ModernTextBox}"
                                                                         Height="40"
                                                                         Margin="0,0,0,6"/>

                                                                <Button Content="ðŸŽ² Generate Random Key"
                                                                        Style="{StaticResource AccentButton}"
                                                                        Click="GenerateKeyBtn_Click"
                                                                        HorizontalAlignment="Stretch"
                                                                        Margin="0,0,0,4"/>

                                                                <TextBlock x:Name="KeyHint"
                                                                           Text="AES-256: 32 bytes | DES: 8 bytes"
                                                                           Foreground="#6B7280"
                                                                           FontSize="10"
                                                                           TextWrapping="Wrap"
                                                                           Margin="0,2,0,0"/> 
                                                        </StackPanel>
                                                </Border>

                                                <!-- Output Card -->
                                                <Border Style="{StaticResource Card}"
                                                        Margin="0,0,0,12">
                                                        <StackPanel>
                                                                <TextBlock Text="ðŸ“¤ Output Result"
                                                                           Foreground="#1A1A1A"
                                                                           FontSize="14"
                                                                           FontWeight="Bold"
                                                                           Margin="0,0,0,8"/>

                                                                <TextBox x:Name="OutputBox"
                                                                         Style="{StaticResource ModernTextBox}"
                                                                         Height="90"
                                                                         TextWrapping="Wrap"
                                                                         IsReadOnly="True"
                                                                         VerticalScrollBarVisibility="Auto"
                                                                         Margin="0,0,0,8"/>

                                                                <Grid>
                                                                        <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="*"/>
                                                                                <ColumnDefinition Width="6"/>
                                                                                <ColumnDefinition Width="*"/>
                                                                        </Grid.ColumnDefinitions>

                                                                        <Button Grid.Column="0"
                                                                                Content="ðŸ“‹ Copy"
                                                                                Style="{StaticResource ModernButton}"
                                                                                Click="CopyResult_Click"/>
                                                                        <Button Grid.Column="2"
                                                                                Content="ðŸ—‘ï¸ Clear"
                                                                                Style="{StaticResource DangerButton}"
                                                                                Click="Clear_Click"/>
                                                                </Grid>
                                                        </StackPanel>
                                                </Border>

                                                <!-- File Operations Card -->
                                                <Border Style="{StaticResource Card}">
                                                        <StackPanel>
                                                                <TextBlock Text="ðŸ“ File Operations"
                                                                           Foreground="#1A1A1A"
                                                                           FontSize="14"
                                                                           FontWeight="Bold"
                                                                           Margin="0,0,0,8"/>

                                                                <Button Content="ðŸ“‚ Load from File"
                                                                        Style="{StaticResource ModernButton}"
                                                                        Click="LoadFromFile_Click"
                                                                        Margin="0,0,0,6"
                                                                        HorizontalAlignment="Stretch"/>
                                                                <Button Content="ðŸ’¾ Save Process Log"
                                                                        Style="{StaticResource ModernButton}"
                                                                        Click="SaveToFile_Click"
                                                                        HorizontalAlignment="Stretch"/>
                                                        </StackPanel>
                                                </Border>
                                        </StackPanel>
                                </ScrollViewer>

                                <!-- Right Panel - Process Display -->
                                <Border Grid.Column="2"
                                        Style="{StaticResource Card}">
                                        <Grid>
                                                <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="*"/>
                                                        <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <!-- Process Header -->
                                                <StackPanel Grid.Row="0"
                                                            Margin="0,0,0,12">
                                                        <TextBlock Text="âš™ï¸ Detailed Process Visualization"
                                                                   Foreground="#1A1A1A"
                                                                   FontSize="14"
                                                                   FontWeight="Bold"/>
                                                        <TextBlock Text="Step-by-step encryption/decryption breakdown"
                                                                   Foreground="#6B7280"
                                                                   FontSize="11"
                                                                   Margin="0,4,0,0"/>
                                                </StackPanel>

                                                <!-- Process Content -->
                                                <Border Grid.Row="1"
                                                        Background="#1A1A1A"
                                                        CornerRadius="6"
                                                        Padding="15">
                                                        <ScrollViewer VerticalScrollBarVisibility="Auto"
                                                                      HorizontalScrollBarVisibility="Auto">
                                                                <TextBlock x:Name="ProcessTextBlock"
                                                                           Foreground="#14B8A6"
                                                                           FontFamily="Consolas"
                                                                           FontSize="12"
                                                                           TextWrapping="Wrap"
                                                                           LineHeight="18"
                                                                           Text="ðŸ’¡ Process details will appear here after encryption/decryption...&#x0a;&#x0a;Ready to process your data. Click Encrypt or Decrypt to begin."/>
                                                        </ScrollViewer>
                                                </Border>

                                                <!-- Status Bar -->
                                                <Border Grid.Row="2"
                                                        Background="#6366F1"
                                                        CornerRadius="6"
                                                        Padding="12,8"
                                                        Margin="0,12,0,0">
                                                        <StackPanel Orientation="Horizontal">
                                                                <TextBlock Text="â±"
                                                                           FontSize="12"
                                                                           Foreground="White"
                                                                           VerticalAlignment="Center"
                                                                           Margin="0,0,6,0"/>
                                                                <TextBlock x:Name="SpeedTextBlock"
                                                                           Text="Ready to process"
                                                                           Foreground="White"
                                                                           FontWeight="SemiBold"
                                                                           FontSize="11"
                                                                           VerticalAlignment="Center"/>
                                                        </StackPanel>
                                                </Border>
                                        </Grid>
                                </Border>
                        </Grid>
                </Grid>
        </Border>
</Window>